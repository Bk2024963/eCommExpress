<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .product-list { margin-bottom: 20px; }
        .product { margin: 10px 0; }
        .total { font-weight: bold; }
    </style>
</head>
<body>

    <h1>Checkout</h1>
    <div class="product-list">
        <ul id="cartList"></ul>
    </div>
    
    <div class="total">Total: $<span id="totalPrice">0</span></div>
    
    <button id="confirmOrderBtn">Confirm Order</button>
    <button id="address">Delivery Address</button>

    <script>
        // Retrieve cart data from localStorage
        const cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Display cart items and calculate total price
        function displayCart() {
            const cartList = document.getElementById('cartList');
            cartList.innerHTML = ''; // Clear any existing items

            let totalPrice = 0;
            cart.forEach(item => {
                const totalItemPrice = item.price * item.quantity;
                totalPrice += totalItemPrice;

                const li = document.createElement('li');
                li.innerHTML = `${item.name} - $${item.price} x ${item.quantity} = $${totalItemPrice}`;
                cartList.appendChild(li);
            });

            // Update total price
            document.getElementById('totalPrice').innerText = totalPrice;
        }

        // Display the cart when the page loads
        displayCart();

        // Handle order confirmation
        document.getElementById('confirmOrderBtn').addEventListener('click', function() {
            const orderDetails = {
                products: cart,
                total: document.getElementById('totalPrice').innerText
            };

            // Send order data to the server (for example purposes, we just log it here)
            console.log('Order Confirmed:', orderDetails);

            // Optionally, redirect to a confirmation page
            window.location.href = 'confirmation.html';
            
        });

    </script>

</body>
</html> -->

<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .product-list { margin-bottom: 20px; }
        .product { margin: 10px 0; }
        .total { font-weight: bold; }
        .quantity-btn { margin-left: 10px; }
    </style>
</head>
<body>

    <h1>Checkout</h1>
    <div class="product-list">
        <ul id="cartList"></ul>
    </div>
    
    <div class="total">Total: $<span id="totalPrice">0</span></div>
    
    <button id="confirmOrderBtn">Confirm Order</button>
    <button id="address">Delivery Address</button>

    <script>
        // Retrieve cart data from localStorage
        const cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Display cart items and calculate total price
        function displayCart() {
            const cartList = document.getElementById('cartList');
            cartList.innerHTML = ''; // Clear any existing items

            let totalPrice = 0;
            cart.forEach((item, index) => {
                // Ensure price and quantity are numbers
                const price = parseFloat(item.price) || 0;
                const quantity = item.quantity && !isNaN(item.quantity) ? item.quantity : 1;  // Default to 1 if quantity is missing or invalid
                const totalItemPrice = price * quantity;
                totalPrice += totalItemPrice;

                // Create list item for the product
                const li = document.createElement('li');
                li.innerHTML = `${item.name} - $${price} x ${quantity} = $${totalItemPrice.toFixed(2)}`;

                // Add quantity increase button
                const increaseBtn = document.createElement('button');
                increaseBtn.textContent = 'Increase Quantity';
                increaseBtn.classList.add('quantity-btn');
                increaseBtn.addEventListener('click', function() {
                    item.quantity = (item.quantity || 1) + 1;
                    localStorage.setItem('cart', JSON.stringify(cart)); // Save updated cart to localStorage
                    displayCart();  // Re-render the cart with updated quantities
                });

                li.appendChild(increaseBtn);
                cartList.appendChild(li);
            });

            // Update total price
            document.getElementById('totalPrice').innerText = totalPrice.toFixed(2);
        }

        // Display the cart when the page loads
        displayCart();

        // Handle order confirmation
        document.getElementById('confirmOrderBtn').addEventListener('click', function() {
            const orderDetails = {
                products: cart,
                total: document.getElementById('totalPrice').innerText
            };

            // Send order data to the server (for example purposes, we just log it here)
            console.log('Order Confirmed:', orderDetails);

            // Optionally, redirect to a confirmation page
            window.location.href = 'confirmation.html';
        });
    </script>

</body>
</html> -->


<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .product-list { margin-bottom: 20px; }
        .product { margin: 10px 0; }
        .total { font-weight: bold; }
        .quantity-btn { margin-left: 10px; }
    </style>
</head>
<body>

    <h1>Checkout</h1>
    <div class="product-list">
        <ul id="cartList"></ul>
    </div>
    
    <div class="total">Total: $<span id="totalPrice">0</span></div>
    
    <button id="confirmOrderBtn">Confirm Order</button>
    <button id="address">Delivery Address</button>

    <script>
        // Example cart data with valid price and quantity
        const cart = [
            { name: "Apple Smartphone", price: 999, quantity: 3 },
            { name: "Adidas Hoodie", price: 49, quantity: 1 },
            { name: "Nike Footwear", price: 129, quantity: 1 },
            { name: "Apple Smartwatch", price: 399, quantity: 1 }
        ];

        // Display cart items and calculate total price
        function displayCart() {
            const cartList = document.getElementById('cartList');
            cartList.innerHTML = ''; // Clear any existing items

            let totalPrice = 0;
            cart.forEach((item, index) => {
                // Ensure price and quantity are numbers
                const price = parseFloat(item.price) || 0;
                const quantity = item.quantity && !isNaN(item.quantity) ? item.quantity : 1;  // Default to 1 if quantity is missing or invalid
                const totalItemPrice = price * quantity;
                totalPrice += totalItemPrice;

                // Create list item for the product
                const li = document.createElement('li');
                li.innerHTML = `${item.name} - $${price} x ${quantity} = $${totalItemPrice.toFixed(2)}`;

                // Add quantity increase button
                const increaseBtn = document.createElement('button');
                increaseBtn.textContent = 'Increase Quantity';
                increaseBtn.classList.add('quantity-btn');
                increaseBtn.addEventListener('click', function() {
                    item.quantity = (item.quantity || 1) + 1;
                    localStorage.setItem('cart', JSON.stringify(cart)); // Save updated cart to localStorage
                    displayCart();  // Re-render the cart with updated quantities
                });
                

                li.appendChild(increaseBtn);
                cartList.appendChild(li);
            });

            // Update total price
            document.getElementById('totalPrice').innerText = totalPrice.toFixed(2);
        }

        // Display the cart when the page loads
        displayCart();

        // Handle order confirmation
        document.getElementById('confirmOrderBtn').addEventListener('click', function() {
            const orderDetails = {
                products: cart,
                total: document.getElementById('totalPrice').innerText
            };

            // Send order data to the server (for example purposes, we just log it here)
            console.log('Order Confirmed:', orderDetails);

            // Optionally, redirect to a confirmation page
            window.location.href = 'confirmation.html';
        });
    </script>

</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <style>
        /* Basic styles for the body and content */
        body {
            font-family: Arial, sans-serif;
            margin: 140px;
            background-color: #f4f4f4;
            color: #333;
        }
        
        h1 {
            color: #4CAF50;
        }

        /* Style for the product list */
        .product-list {
            margin-bottom: 20px;
        }

        .product {
            margin: 10px 0;
        }

        /* Style for each product in the cart */
        .product li {
            list-style: none;
            padding: 10px;
            margin: 10px 0;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        /* Style for the buttons */
        .quantity-btn {
            margin-left: 10px;
            padding: 5px 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        /* Button hover effect */
        .quantity-btn:hover {
            background-color: #45a049;
        }

        /* Style for the total price */
        .total {
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 20px;
        }

        /* Style for the checkout buttons */
        button {
            padding: 10px 20px;
            margin-top: 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        /* Style for the confirm order and address buttons */
        #confirmOrderBtn, #address {
            display: inline-block;
            margin-top: 10px;
        }

        /* Responsive design */
        @media (max-width: 600px) {
            .product-list {
                margin: 10px;
            }

            .product li {
                padding: 8px;
                font-size: 14px;
            }

            .quantity-btn, button {
                padding: 8px 15px;
                font-size: 14px;
            }
        }

    </style>
</head>
<body>
    <h1>Checkout</h1>
    <div class="product-list">
        <ul id="cartList"></ul>
    </div>
    
    <div class="total">Total: $<span id="totalPrice">0.00</span></div>
    
    <button id="confirmOrderBtn">Confirm Order</button>
    <button id="addressBtn">Delivery Address</button>
    <button id="proceedToPaymentBtn">Payment Method</button>

    <script>
        // Retrieve cart data from localStorage
        const cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Display cart items and calculate total price
        function displayCart() {
            const cartList = document.getElementById('cartList');
            cartList.innerHTML = ''; // Clear any existing items

            let totalPrice = 0;
            cart.forEach(item => {
                const price = parseFloat(item.price) ||149 ; // Default to 0 if price is undefined
                const quantity = item.quantity || 1; // Default to 1 if quantity is undefined
                
                const totalItemPrice = price * quantity;
                totalPrice += totalItemPrice;

                const li = document.createElement('li');
                li.innerHTML = `
                    ${item.name} - $${price.toFixed(2)} x ${quantity} = $${totalItemPrice.toFixed(2)}
            
            `;

                // Create quantity buttons container
                const quantityContainer = document.createElement('div');
                quantityContainer.classList.add('quantity-container');

                // Create Increase button
                const increaseBtn = document.createElement('button');
                increaseBtn.textContent = 'Increase';
                increaseBtn.classList.add('quantity-btn');
                increaseBtn.addEventListener('click', () => increaseQuantity(item.name));
                
                // Create Decrease button
                const decreaseBtn = document.createElement('button');
                decreaseBtn.textContent = 'Decrease';
                decreaseBtn.classList.add('quantity-btn');
                decreaseBtn.addEventListener('click', () => decreaseQuantity(item.name));

                // Append buttons to the quantity container
                quantityContainer.appendChild(increaseBtn);
                quantityContainer.appendChild(decreaseBtn);

                // Append quantity container to the list item
                li.appendChild(quantityContainer);
                cartList.appendChild(li);
            });

            // Update total price
            document.getElementById('totalPrice').innerText = totalPrice.toFixed(2);
        }

        // Function to increase quantity
        function increaseQuantity(name) {
            const product = cart.find(item => item.name === name);
            if (product) {
                product.quantity = (product.quantity || 1) + 1;
                localStorage.setItem('cart', JSON.stringify(cart));
                displayCart();
            }
        }

        // Function to decrease quantity
        function decreaseQuantity(name) {
            const product = cart.find(item => item.name === name);
            if (product && product.quantity > 1) {
                product.quantity -= 1;
                localStorage.setItem('cart', JSON.stringify(cart));
                displayCart();
            }
        }

        // Display the cart when the page loads
        displayCart();

        // Handle order confirmation
        document.getElementById('confirmOrderBtn').addEventListener('click', function() {
            const orderDetails = {
                products: cart,
                total: document.getElementById('totalPrice').innerText
            };

            // Send order data to the server (for example purposes, we just log it here)
            console.log('Order Confirmed:', orderDetails);

            // Optionally, redirect to a confirmation page
            window.location.href = 'confirmation.html';
        });
        document.getElementById('addressBtn').addEventListener('click', function() {
            window.location.href = 'address.html';
        });
        document.getElementById('proceedToPaymentBtn').addEventListener('click', function() {
            // Redirect to the payment page
            window.location.href = 'payment.html';  // Change this to the actual payment page URL
        });
    </script>
</body>

</html>
